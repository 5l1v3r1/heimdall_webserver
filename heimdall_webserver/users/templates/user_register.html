{% extends "base.html" %}
{% block body %}
<div class="col-lg-12">
   <h1>User Register</h1>
</div>
<div class="col-lg-12">
   <div class="panel panel-success">
      <div class="panel-body">
        {%if sysuser%}
         <form class="form-horizontal" action="{%url 'usersEdit' sysuser.id %}" method='POST'>
        {%else%}
         <form class="form-horizontal" action="{%url 'usersRegister'%}" method='POST'>
        {%endif%}
         {% csrf_token %}
         <fieldset>
           {%if sysuser%}
            <legend>Edit {{sysuser.username}}</legend>
            {%else%}
            <legend>Create a new user</legend>
            {%endif%}
            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Username</label>
               <div class="col-lg-10">

                  <input class="form-control" name="username" value="{{sysuser.username}}" placeholder="username" type="text" required {%if sysuser%}disabled{%endif%}>
               </div>
            </div>

            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">E-mail</label>
               <div class="col-lg-10">
                  <input class="form-control" name="email" value="{{sysuser.email}}" placeholder="e-mail" type="text" required>
               </div>
            </div>

            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">First Name</label>
               <div class="col-lg-10">
                  <input class="form-control" name="first_name" value="{{sysuser.first_name}}" placeholder="First Name" type="text" required>
               </div>
            </div>

            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Last Name</label>
               <div class="col-lg-10">
                  <input class="form-control" name="last_name" value="{{sysuser.last_name}}" placeholder="Last Name" type="text" required>
               </div>
            </div>
            {%if not sysuser%}
            <div class="form-group">
               <label for="inputEmail" class="col-lg-2 control-label">Password</label>
               <div class="col-lg-10">
                  <input class="form-control" name="password"  placeholder="Password" type="password" required>
               </div>
            </div>
            {%endif%}
            <div class="form-group">
              <label for="inputEmail" class="col-lg-2 control-label">Group</label>

              <div class="col-lg-10">
            <select class="form-control" id="select" name="group">
              {%for group in groups%}
              <option name="group" value="{{group.name}}">{{group.name}}</option>
              {%endfor%}
            </select>
          </div>

          </div>

         </fieldset>
         <button type="submit" class="btn btn-primary">Register</button>
         </form>
      </div>
   </div>
</div>
{% endblock %}
